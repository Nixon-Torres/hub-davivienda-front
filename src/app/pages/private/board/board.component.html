<section class="grapes-container">
	<mat-toolbar id="toolbar">
		<mat-toolbar-row id="export">
			<section>
				<h6>Informe de negocio</h6>

				<button mat-stroked-button class="btn-white descartar-cta">
					<span class="icon icon-trash-alt"></span>Descartar
				</button>
				<button mat-stroked-button class="btn-white previa-cta" (click)="openPreviewDialog()" [ngClass]="{'btn-primary': report.id}" [disabled]="!report.id">
					<span class="icon icon-search-plus"></span>Vista Previa
				</button>
				<button mat-stroked-button class="btn-white revision-cta" *ngIf="canSendToRevision()"
                        [ngClass]="{'btn-primary': report.id}" [disabled]="!report.id" (click)="sendReview()">
					<span class="icon icon-clipboard-check"></span>Enviar a revisión
				</button>
                <button mat-stroked-button class="btn-white revision-cta" *ngIf="canSendBackToRevision()"
                        [ngClass]="{'btn-primary': report.id}" [disabled]="!report.id" (click)="sendBacktoReview()">
                    <span class="icon icon-clipboard-check"></span>Devolver a revisión
                </button>
				<button mat-stroked-button class="btn-white revision-cta" *ngIf="canApprove()"
                        [ngClass]="{'btn-primary': report.id}" (click)="approve()">
					<span class="icon icon-clipboard-check"></span>Aprobar
				</button>
                <button mat-stroked-button class="btn-white revision-cta" *ngIf="canPublish()"
                        [ngClass]="{'btn-primary': report.id}" (click)="publish()">
                    <span class="icon icon-check"></span>Publicar
                </button>
				<button mat-flat-button class="btn-primary guardar-cta" (click)="onSave()">
					<span class="icon icon-save"></span>Guardar
				</button>

				<small>Autoguardado {{lastupdate}}</small>
			</section>
		</mat-toolbar-row>

		<mat-toolbar-row id="actions">
			<section>
				<div class="form-name">
					<label for="reportName">Nombre informe:</label>
					<div class="input-field">
						<input id="reportName" type="text" placeholder="Escriba aquí" [(ngModel)]="report.name">
					</div>
				</div>
				<button mat-button>
					<span class="icon icon-edit"></span>Editar nombre
				</button>
				<button mat-button [ngClass]="{'btn-primary': report.name}" (click)="onSave(true)" [disabled]="!report.name">
					<span class="icon icon-save"></span>Guardar nombre
				</button>
				<div class="divider"></div>
				<span class="person-name" style="display: none">Editado por Andres V...<i class="fa fa-chevron-down" aria-hidden="true"></i></span>
			</section>
		</mat-toolbar-row>
	</mat-toolbar>

	<mat-grid-list cols="12" id="grapesBox">

		<!-- EDITOR -->
		<mat-grid-tile [colspan]="7" [rowspan]="1" class="builder">
			<div id="gjs"></div>
		</mat-grid-tile>

		<!-- COMMENTS -->
		<mat-grid-tile [colspan]="2" [rowspan]="1" class="comments">
			<app-comment-box *ngIf="report.id" [reportId]="report.id"></app-comment-box>
		</mat-grid-tile>

		<!-- PANEL -->
		<mat-grid-tile [colspan]="2" [rowspan]="1" class="builder-tabs">

			<div class="row">
				<div class="col s12" style="display: none">
					<ul class="tabs">
						<li class="tab col s4">
							<a href="#blocks-tab" matRipple>
								<i class="material-icons">extension</i>
							</a>
						</li>
						<li class="tab col s4">
							<a href="#styles-tab" matRipple>
								<i class="material-icons">color_lens</i>
							</a>
						</li>
						<li class="tab col s4">
							<a href="#config-tab" class="active" matRipple>
								<span class="icon icon-cog"></span>
							</a>
						</li>
					</ul>
				</div>

				<div id="blocks-tab" class="col s12">
					<h6>Elementos</h6>
					<div class="blocks-container"></div>
				</div>
				<div id="styles-tab" class="col s12">
					<h6>Estilos</h6>
					<div class="styles-container"></div>
				</div>
				<div id="config-tab" class="col s12 active">
					<h6>Configuración informe</h6>
					<mat-accordion class="config-container">
						<mat-expansion-panel>
							<mat-expansion-panel-header>
								<mat-panel-title>
									<span class="icon icon-tags"></span>
									<span>Tags Categorías</span>
								</mat-panel-title>
							</mat-expansion-panel-header>

							<p>This is the primary content of the panel.</p>

						</mat-expansion-panel>

						<mat-expansion-panel>
							<mat-expansion-panel-header>
								<mat-panel-title>
									<span class="icon icon-chart-pie"></span>
									<span>Seo</span>
								</mat-panel-title>
							</mat-expansion-panel-header>

							<p>This is the primary content of the panel.</p>

						</mat-expansion-panel>

						<mat-expansion-panel>
							<mat-expansion-panel-header>
								<mat-panel-title>
									<span class="icon icon-copy"></span>
									<span>Informes relacionados</span>
								</mat-panel-title>
							</mat-expansion-panel-header>

							<p>This is the primary content of the panel.</p>

						</mat-expansion-panel>

						<mat-expansion-panel>
							<mat-expansion-panel-header>
								<mat-panel-title>
									<span class="icon icon-book-open"></span>
									<span>Glosario</span>
								</mat-panel-title>
							</mat-expansion-panel-header>

							<p>This is the primary content of the panel.</p>

						</mat-expansion-panel>
					</mat-accordion>
				</div>
			</div>

		</mat-grid-tile>
	</mat-grid-list>

</section>
